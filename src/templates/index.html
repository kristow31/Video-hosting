<!DOCTYPE html>
<html id="html"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<title>Список</title>
	<meta name="title" content="Login">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="fb:app_id" content="1643990952546825">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
        
    <link rel="shortcut icon" type="image/png" href="/static/img/icon1.png">
    <link rel="stylesheet" href="/static/css/jquery-ui.min.css">
    <link rel="stylesheet" href="/static/css/jquery.tagit.css">
    <link rel="stylesheet" href="/static/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/css/twemoji-awesome.css">
    <link rel="stylesheet" href="/static/css/bootstrap-glyphicons.css">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/sweetalert2.min.css">
    <link rel="stylesheet" href="/static/css/notifIt.min.css">
    <link rel="stylesheet" href="/static/css/style.css" id="style-css">
        <link rel="stylesheet" href="/static/css/custom.style.css">
    <link href="/static/css/icon.css" rel="stylesheet" type="text/css">
    <link href="/static/css/my.css" rel="stylesheet">
    <script async="" src="/static/js/analytics.js"></script><script src="/static/js/jquery-3.min.js"></script>
    <script src="/static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="/static/js/jquery.form.min.js"></script>
    <script type="text/javascript" src="/static/js/tag-it.min.js"></script>
        <link rel="stylesheet" href="/static/js/mediaelementplayer.min.css">
    <script src="/static/js/mediaelement-and-player.min.js"></script>
    <script src="/static/js/sweetalert2.js"></script>
    <script src="/static/js/notifIt.min.js"></script>
    <link href="/static/js/bootstrap-toggle.min.css" rel="stylesheet">

    <link rel="stylesheet" href="/static/css/bootstrap-select.min.css">
    <script src="/static/js/bootstrap-select.min.js"></script>

	<link rel="stylesheet" href="/static/css/owl.carousel.min.css">
    <script src="/static/js/owl.carousel.min.js"></script>

    
    <script src="/static/js/speed.min.js"></script>
    <link rel="stylesheet" href="/static/css/speed.min.css">
    <script src="/static/js/speed-i18n.js"></script>
    <script src="/static/js/jump-forward.min.js"></script>
    <link rel="stylesheet" href="/static/css/jump-forward.min.css">
    <script src="/static/js/ads.min.js"></script>
    <link rel="stylesheet" href="/static/css/ads.min.css">
    <script src="/static/js/ads-i18n.js"></script>
    <script src="/static/js/ads-vast-vpaid.js"></script>
    <script src="/static/js/quality.min.js"></script>
    <link rel="stylesheet" href="/static/css/quality.min.css">
    <script src="/static/js/facebook.min.js"></script>
    <script src="/static/js/fingerprint2.js"></script>
    <script src="/static/js/emojionearea.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/css/emojionearea.min.css">

    <script src="/static/js/v1.js"></script>

        
    <script src="/static/js/header.js"></script>
        <script src="/static/js/ima3.js" type="text/javascript"></script>
          <script src="/static/js/agora.js"></script>

<body itemscope="" itemtype="http://schema.org/Organization" id="pt-body">
  <style>
.theme_switch {position: fixed;top: 200px;z-index: 9999;right: 15px;}
.theme_switch .btn {box-shadow: 0 -5px 20px 5px rgb(0 0 0 / 15%);display: flex;flex-direction: column;align-items: center;justify-content: center;overflow: hidden;padding: 8px 6px;width: 66px;height: 66px;background-color: #fff;border-radius: 6px;font-size: 13px;line-height: 1;font-weight: 500;color: #4a5259 !important;}
.theme_switch .btn svg {width: 26px;height: 26px;margin: 0 0 7px;}
.theme_switch_box {max-width: 950px;}
.theme_switch_box .modal-content {box-shadow: 0 11px 15px -7px rgba(0,0,0,.2), 0 24px 38px 3px rgba(0,0,0,.14), 0 9px 46px 8px rgba(0,0,0,.12) !important;padding: 24px 24px 1px !important;border-radius: 10px !important;border: 0 !important;}
.theme_switch_box .modal-header {border: 0 !important;background: transparent !important;padding: 0 !important;margin: 0 0 20px !important;display: flex;justify-content: space-between;}
.theme_switch_box .modal-header:before, .theme_switch_box .modal-header:after {display: none;}
.theme_switch_box .modal-header .modal-title {font-size: 20px !important;line-height: 32px !important;font-weight: 500 !important;font-family: "Roboto", sans-serif;}
.theme_switch_box .modal-header .btn {font-weight: 500;}
.theme_switch_box .modal-body {padding: 0 !important;font-size: 15px !important;text-align: initial;}
.theme_switch_details {background-color: rgb(0 0 0 / 0.06);border-radius: 5px;margin-bottom: 25px;overflow: hidden;text-align: center;}
.theme_switch_details.default {background-color: #86cae9;}
.theme_switch_details.youplay {background-color: #9ce1ff;}
.theme_switch_details.vidplay {background-color: #a1b9fa;}
.theme_switch_details p {padding: 20px 10px 10px;margin: 0;font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight: 500;font-size: 20px;color: #222 !important;}
.theme_switch_details p a {color: #222 !important;}
.theme_switch_details small {margin: -18px 0 0px;display: block;color: #333 !important;}
.theme_switch_details > a {display: block;position: relative;padding-bottom: 56.25%;margin: 10px -10px 0 25px;box-shadow: 0 0 15px rgb(0 0 0 / 25%);border-radius: 5px 0 0 0;}
.theme_switch_details img {width: 100%;height: 100%;position: absolute;top: 0;right: 0;bottom: 0;left: 0;border-radius: 5px 0 0 0;}
.theme_details_foot {display: -webkit-box;display: -webkit-flex;display: -ms-flexbox;display: flex;-webkit-box-align: center;-webkit-align-items: center;-ms-flex-align: center;align-items: center;padding: 0 10px 25px;justify-content: center;}
.theme_details_foot .btn {text-align: center;line-height: 28px;padding: 0 16px;border-radius: 4px;font-size: 13px;font-weight: 500;overflow: hidden;box-shadow: none;border: 0;font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";margin: 0 4px;background-color: #444;color: #fff;}
.theme_details_foot .btn.buy {background-color: transparent;box-shadow: inset 0 0 0 2px #444;color: #444!important;}
@media (min-width: 768px) {
.theme_switch_box .modal-body .row {margin-left: -.5rem;margin-right: -.5rem;}
.theme_switch_box .modal-body .row > div {padding-left: .5rem;padding-right: .5rem;}
}
@media (max-width: 768px) {
.theme_switch_box .modal-body > p {display: none;}
}
</style>

  <a href="/" id="link_redirect_to_page" data-load=""></a>
  <div id="bar_loading" style="display: none;"></div>
    <input type="hidden" class="main_session" value="9e71a48804dba9ba078a84b3ce88976aa52388f5">
  	<header>
		<nav class="navbar navbar-findcond navbar-fixed-top header-layout">
	<div class="pt_main_hdr" id="header_change">
		<div class="navbar-header">

						<a class="navbar-brand logo-img" href="/" itemprop="url">
									<img itemprop="logo" src="/static/img/logo.png" alt="PlayTube - The Ultimate Video Sharing Platform">
							</a>
			
						<ul class="nav navbar-nav sec_lay_hdr"> </ul>
						
			<form class="navbar-form navbar-left search-header" role="search" action="https://demo.playtubescript.com/search" method="GET">
                <div class="form-group">
                    <input type="text" class="form-control" id="search-bar" name="keyword" placeholder="Search for videos" autocomplete="off" value=""> 
                    					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search" onclick="javascript:$(&#39;.search-header input&#39;).focus();"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                </div>
                <div class="search-dropdown hidden"></div>
            </form>
			
		</div>
		<ul class="nav navbar-nav navbar-right">

			    <li class="hide-from-mobile">
					<a href="/add-torrent" class="btn import-button" data-load="?link1=import-video">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M17,13L12,18L7,13H10V9H14V13M19.35,10.03C18.67,6.59 15.64,4 12,4C9.11,4 6.6,5.64 5.35,8.03C2.34,8.36 0,10.9 0,14A6,6 0 0,0 6,20H19A5,5 0 0,0 24,15C24,12.36 21.95,10.22 19.35,10.03Z"></path></svg>
						<span class="hide-in-mobile">Import</span>
					</a>
				</li>
								<li class="show-in-mobile pull-left top-header">
				<a href="/" class="search-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path></svg> </a>
			</li>
						<li class="dropdown hide-from-mobile top-header profile-nav">
	<a href="/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
		<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"></path></svg> <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" role="menu">
		<li><a href="/login">Выйти</a></li>
				<li class="divider hidden-lg hidden-md hidden-sm"></li>
					<li class="toggle-mode top-header" style="">
				<label class="switch">
					Mode
					<input type="checkbox" id="toggle-mode">
					<span class="slider round">
						<svg fill="#009da0" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="feather feather-bulb" style="margin: 0px 0 0 1px;"><path d="M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63Z"></path></svg>
					</span>
				</label>
			</li>
		   </ul>
</li>
		</ul>
	</div>
</nav>

<nav class="navbar navbar-findcond navbar-fixed-top header-layout hidden search-bar">
	<div class="navbar-header">
		<form class="search-header-mobile" role="search" action="https://demo.playtubescript.com/search" method="GET">
			<div class="form-group">
				<input type="text" class="form-control" id="search-bar-mobile" name="keyword" placeholder="Search for videos" autocomplete="off" value=""> 
			</div>
			<div class="search-dropdown hidden"></div>
		</form>
	</div>
</nav>


<script>
$('.search-icon').on('click', function(event) {
	event.preventDefault();
	$('.search-bar').toggleClass('hidden');
});

$('#open_slide').on('click', function(event) {
	event.preventDefault();
	$('body').toggleClass('side_open');
});

$('#search-bar').keyup(function(event) {
	var search_value = $(this).val();
	var search_dropdown = $('.search-dropdown');
	if (search_value == '') {
		search_dropdown.addClass('hidden');
		search_dropdown.empty();
		return false;
	} else {
		search_dropdown.removeClass('hidden');
	}
    $.post('https://demo.playtubescript.com/aj/search', {search_value: search_value}, function(data, textStatus, xhr) {
    	if (data.status == 200) {
    		search_dropdown.html(data.html);
    	} else {
	       search_dropdown.addClass('hidden');
		   search_dropdown.empty();
		   return false;
    	}
    });
});

jQuery(document).click(function(event){
    if (!(jQuery(event.target).closest(".search-dropdown").length)) {
        jQuery('.search-dropdown').addClass('hidden');
    }
});

jQuery(document).click(function(event){
    if (!(jQuery(event.target).closest("#open_slide, .yp_side_drawer").length)) {
        jQuery('body').removeClass('side_open');
    }
});
</script>
    <div class="clear"></div>
	</header>
  

	<div id="main-container" class="main-content  container     ">
                          <div class="ads-placment" id="header_ad_"></div>
                <div class="announcement-renderer">
            
        </div>
                <div id="container_content"><input type="hidden" id="json-data" value="{&quot;title&quot;:&quot;Latest videos | PlayTube - The Ultimate Video Sharing Platform&quot;,&quot;description&quot;:&quot;PlayTube is a PHP Video Sharing Script, PlayTube is the best way to start your own video sharing script!&quot;,&quot;keyword&quot;:&quot;playtube,sharevideo,share,upload,videos&quot;,&quot;page&quot;:&quot;latest&quot;,&quot;url&quot;:&quot;https:\/\/demo.playtubescript.com\/videos\/latest?page_id=1&quot;,&quot;is_movie&quot;:false}">
<div class="wo_about_wrapper_parent">
	<div class="wo_about_wrapper"> 
		<div class="hero hero-overlay"> 
			<div class="container">
				<h1 class="text-center">Последнее видео</h1>
			</div>
		</div>
		<svg class="wave" width="100%" height="50px" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 75"> <defs> <style> .a { fill: none; } .b { clip-path: url(#a); } .c, .d { fill: #04abf2; } .d { opacity: 0.5; isolation: isolate; } </style> <clippath id="a"> <rect class="a" width="1920" height="75"></rect> </clippath> </defs> <title>Latest videos | PlayTube - The Ultimate Video Sharing Platform</title> <g class="b"> <path class="c" d="M1963,327H-105V65A2647.49,2647.49,0,0,1,431,19c217.7,3.5,239.6,30.8,470,36,297.3,6.7,367.5-36.2,642-28a2511.41,2511.41,0,0,1,420,48"></path> </g> <g class="b"> <path class="d" d="M-127,404H1963V44c-140.1-28-343.3-46.7-566,22-75.5,23.3-118.5,45.9-162,64-48.6,20.2-404.7,128-784,0C355.2,97.7,341.6,78.3,235,50,86.6,10.6-41.8,6.9-127,10"></path> </g> <g class="b"> <path class="d" d="M1979,462-155,446V106C251.8,20.2,576.6,15.9,805,30c167.4,10.3,322.3,32.9,680,56,207,13.4,378,20.3,494,24"></path> </g> <g class="b"> <path class="d" d="M1998,484H-243V100c445.8,26.8,794.2-4.1,1035-39,141-20.4,231.1-40.1,378-45,349.6-11.6,636.7,73.8,828,150"></path> </g> </svg>
	</div>
</div>
<div class="content pt_shadow pt_page_margin pt_vid_lst_page">
	<div class="col-md-12">
		<div class="videos-latest-list row">

            {% for file in files %}

                {% if file.status == 'OK' %}

                    <div class="col-md-3 col-sm-6 no-padding-right-at-all no-padding-mobile-left">
                        <div class="video-latest-list video-wrapper" data-id="53056" data-views="2">
                            <div class="video-thumb">
                                <a href="video/{{ file.hash }}">
                                    <img src="{{ file.img }}" alt="IMG">
                                    <div class="play_hover_btn" onmouseenter="show_gif(this,&#39;&#39;)" onmouseleave="hide_gif(this)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play-circle"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg>
                                    </div>
                                </a>
                                <div class="video-duration">{{ file.size }}</div>
                            </div>
                            <div class="video-title">
                                <a href="play_video/{{ file.hash }}">
                                    <h4 title="{{ file.name }}">{{ file.name }}</h4>
                                </a>
                            </div>
                            <div class="video-info">
                                <div>
                                    <span>{{ file.date }}</span>
                                </div>
                            </div>
                        </div>
                    </div>

                {% else %}

                    <div class="col-md-3 col-sm-6 no-padding-right-at-all no-padding-mobile-left">
                        <div class="video-latest-list video-wrapper" data-id="53056" data-views="2">
                            <div class="video-thumb">
                                <a href="/">
                                    <img src="{{ file.img }}" alt="IMG">
                                    <div class="play_hover_btn" onmouseenter="show_gif(this,&#39;&#39;)" onmouseleave="hide_gif(this)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play-circle"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg>
                                    </div>
                                </a>
                                <div class="video-duration">Загрузка {{file.status}}% ... {{ file.size }}</div>
                            </div>
                            <div class="video-title">
                                <a href="/">
                                    <h4 title="{{ file.name }}">Загрузка {{file.status}}% ...{{ file.name }}</h4>
                                </a>
                            </div>
                            <div class="video-info">
                                <div>
                                    <span>{{ file.date }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}

            {% endfor %}
		</div>

		<div class="clear"></div>
	</div>
	<div class="clear"></div>
</div>
</div>
</div>
  	<footer class="pt_footer">
		<div class="container-fluid">
	<div class="container  phone-container">
		<div class="footer-container">
			<div class="footer-copyright">Copyright © 2022 PlayTube. All rights reserved.</div>
		</div>
	</div>
</div>

	</footer>
  


	<!-- JS FILES -->
        
<script>
  function PT_PlaylistSubscribe(user_id, type,playlist) {
  if (!user_id || !type || !playlist) { return false; }
  if (!$('#main-container').attr('data-logged') && $('#main-url').val()) {
      window.location.href = PT_Ajax_Requests_File() + 'login?to=' + $('#main-url').val();
      return false;
  }
  var subscribe_button = $('.subscribe-id-playlist-' + user_id);
  if (type == 'subscribe') {
    subscribe_button.removeClass('plist-btn-subscribe').addClass('plist-btn-subscribed');
    subscribe_button.html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M17.75 21.16L15 18.16L16.16 17L17.75 18.59L21.34 15L22.5 16.41L17.75 21.16M3 20V19L5 17V11C5 7.9 7.03 5.18 10 4.29V4C10 2.9 10.9 2 12 2C13.11 2 14 2.9 14 4V4.29C16.97 5.18 19 7.9 19 11V12.08L18 12C14.69 12 12 14.69 12 18C12 18.7 12.12 19.37 12.34 20H3M12 23C10.9 23 10 22.11 10 21H12.8C13.04 21.41 13.33 21.79 13.65 22.13C13.29 22.66 12.69 23 12 23Z" /></svg>');
    subscribe_button.attr('onclick', 'PT_PlaylistSubscribe(' + user_id + ', "subscribed","'+playlist+'")');
	subscribe_button.attr('title', 'Subscribed to Playlist Notifications');
    $.post('https://demo.playtubescript.com/aj/playlist_subscribe', {user_id: user_id,playlist:playlist});
  } else {
    var html = "<small>Are you sure you want to unsubscribe? This action can't be undo.</small>";
    swal({
      title: "",
      type: "",
      html:html,
      showCancelButton: true,
      cancelButtonText: "No",
      customClass: 'sweetalert-lg pt_add_to_list_vid',
      confirmButtonText:'Yes'
    }).then(function(){
        subscribe_button.removeClass('plist-btn-subscribed').addClass('plist-btn-subscribe');
        subscribe_button.html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21M19.75,3.19L18.33,4.61C20.04,6.3 21,8.6 21,11H23C23,8.07 21.84,5.25 19.75,3.19M1,11H3C3,8.6 3.96,6.3 5.67,4.61L4.25,3.19C2.16,5.25 1,8.07 1,11Z" /></svg>');
        subscribe_button.attr('onclick', 'PT_PlaylistSubscribe(' + user_id + ', "subscribe","'+playlist+'")');
		subscribe_button.attr('title', 'Subscribe for Notifications');
        $.post('https://demo.playtubescript.com/aj/playlist_subscribe', {user_id: user_id,playlist:playlist});

      },function(){
    });
    
  }
  
}

function PT_Subscribe(user_id, type) {
  if (!user_id || !type) { return false; }
  if (!$('#main-container').attr('data-logged') && $('#main-url').val()) {
      window.location.href = PT_Ajax_Requests_File() + 'login?to=' + $('#main-url').val();
      return false;
  }
  var subscribe_button = $('.subscribe-id-' + user_id);
  if (type == 'subscribe') {
    subscribe_button.removeClass('btn-subscribe').addClass('btn-subscribed');
    subscribe_button.html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg> Subscribed');
    subscribe_button.attr('onclick', 'PT_Subscribe(' + user_id + ', "subscribed")');
    $.post('https://demo.playtubescript.com/aj/subscribe', {user_id: user_id});
  } else {
    var html = "<small>Are you sure you want to unsubscribe? This action can't be undo.</small>";
    swal({
      title: "",
      type: "",
      html:html,
      showCancelButton: true,
      cancelButtonText: "No",
      customClass: 'sweetalert-lg pt_add_to_list_vid',
      confirmButtonText:'Yes'
    }).then(function(){
        subscribe_button.removeClass('btn-subscribed').addClass('btn-subscribe');
        subscribe_button.html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg> Subscribe');
        subscribe_button.attr('onclick', 'PT_Subscribe(' + user_id + ', "subscribe")');
        $.post('https://demo.playtubescript.com/aj/subscribe', {user_id: user_id});

      },function(){
    });
  }
  
}

function PT_Reply(comm_id, name,reply_id) {
  if (!comm_id) { return false;}
  var logged = $('#main-container').attr('data-logged');
  var name   = (name) ? "@"+name+": " : '';
  if(!logged){
    window.location.href = "https://demo.playtubescript.com/login?to=https://demo.playtubescript.com%2Fvideos%2Ftop";
    return false;
  }
  else{
    var reply_form = $('#comm-reply-' + comm_id);

    reply_form.removeClass('hidden').find('input').val(name).focus().scrollTo();

    if (reply_id) {
      reply_form.attr('data-reply-id',reply_id); 
    }
    
  }
}

$(function () {
  $(document).on('click','.load-more' , function(event) {
    event.preventDefault();
    var $type = $(this).attr('data-type');
    var keyword = '';
    if ($(this).attr('data-keyword')) {
      keyword = $(this).attr('data-keyword');
    }
    var last_id = $('.video-wrapper:last').attr('data-id');
    var sub_category = '';
    if ($(this).attr('data-category')) {
      var $category_id = $(this).attr('data-category');
      sub_category = $(this).attr('data-sub-category-id');
      $type = 'category?c_id=' + $category_id + '&sub_category='+sub_category;
    }
    views = 0;
    if ($('.video-wrapper:last').attr('data-views')) {
      var views = $('.video-wrapper:last').attr('data-views');
      $type = $type + '?views=' + views;
    }
    tr_id = 0;
    if ($('.video-wrapper:last').attr('data-tr')) {
      var tr_id = $('.video-wrapper:last').attr('data-tr');
      $type = $type + '?tr_id=' + tr_id;
    }
    user_id = 0;
    if ($('#profile-id').val()) {
      var user_id = $('#profile-id').val();
    }
    
    data1 = {};
    if ($type == 'top') {
      for (var i = 0; i < $('.video-wrapper').length; i++) {
        if ($($('.video-wrapper')[i]).attr('data-views') == views) {
          data1[i] = $($('.video-wrapper')[i]).attr('data-views');
        }
      }
    }
    else{
      if (views) {
        var asdf = $('div[data-views=' + views + ']').each(function(index, el) {
          data1[index] = $(this).attr('data-id')
        });
      }
    }
    
    date = '';
    category = '';
    if ($(this).attr('data-type') == 'search') {
      date = $(this).attr('data-by-date');
      category = $(this).attr('data-by-category');
    }

    paid_sort = '';
    if ($(this).attr('data-type') == 'paid_videos') {
      paid_sort = $(this).attr('data-video-type');
    }

    if ($(this).attr('data-type') == 'video_comment') {
      $type = 'video_comment';
      last_id = $('.comment_info:last').attr('data-comment-id');
    }

    video_studio_ids = [];
    video_studio_type = '';

    if ($(this).attr('data-type') == 'video_studio') {
      for (var i = 0; i < $('.video-wrapper').length; i++) {
          video_studio_ids.push($($('.video-wrapper')[i]).attr('data-id'));
      }
      video_studio_type = $(this).attr('sort-type');
    }

    var channels_ids = [];
    var sort_type = '';
    var sort_by = '';

    if ($(this).attr('data-type') == 'popular_channels') {
      channels_ids = [];
      last_id = $('.channels_list:last').attr('data-channel-views');
      for (var i = 0; i < $('.channels_list').length; i++) {
        if ($($('.channels_list')[i]).attr('data-channel-views') == last_id) {
          channels_ids.push($($('.channels_list')[i]).attr('data-channel-id'));
        }
      }
      sort_by = $(this).attr('data-sort-by');
      sort_type = $(this).attr('data-sort-type');
    }

    $('.load-more').text("Please wait..");
    $.post('https://demo.playtubescript.com/aj/load-more/' + $type + '', {last_id: last_id, ids: data1, keyword:keyword, user_id: user_id,date:date,category:category,video_studio_ids:video_studio_ids,video_studio_type:video_studio_type,channels_ids:channels_ids,sort_type:sort_type,sort_by:sort_by,paid_sort:paid_sort}, function(data, textStatus, xhr) {
       if (data.status == 200) {
          if ($type == 'subscriptions' || $type == 'history' || $type == 'saved_videos' || $type == 'liked_videos' || $type == 'my_videos' || $type == 'video_studio' || $type == 'search' || $type == 'popular_channels') {
            if ($('#video_studio_ids').length > 0) {
              $('#video_studio_ids').attr('value',data.video_ids_);
              $('#video_studio_ids').attr('data_by_id',data.by_ids);
            }
             $('.author-list').append(data.videos);
          } else {
            if ($type == 'video_comment') {
              $('#comments_container').append(data.comments);
            }else{
              $('.videos-latest-list').append(data.videos);
            }
          }
          $('.load-more').text("Show more");
       } else {
            if ($type == 'video_comment') {
              $('.load-more').text("No more comments found");
            }else if($type == 'popular_channels'){
              $('.load-more').text("No more channels to show");
            }else{
              $('.load-more').text("No more videos to show");
            }
       }
       scrolled = 0;
    });
  });
});


function PT_LoadPost(category, self){
  if (!self) { return false;}

  var last_id = ($('.article-wrapper').length > 0) ? $('.article-wrapper:last').attr('data-id') : 0;
  if (last_id && last_id > 0) {
    $.post('https://demo.playtubescript.com/aj/load-more/articles', {last_id: last_id,cat:category}, function(data, textStatus, xhr) {
       if (data.status == 200) {
          $('.articles-container').append(data.posts);
          $(self).text("Show more");
       }

       else {
          $(self).text("No more Articles");
       }
    });
  }
}

function PT_LoadActivity(self){
  if (!self) { return false;}

  var last_id = ($('.article-wrapper').length > 0) ? $('.article-wrapper:last').attr('data-id') : 0;
  if (last_id && last_id > 0) {
    $.post('https://demo.playtubescript.com/aj/load-more/activity', {last_id: last_id}, function(data, textStatus, xhr) {
       if (data.status == 200) {
          $('.articles-container').append(data.posts);
          $(self).text("Show more");
       }

       else {
          $(self).text("No activities to view");
       }
    });
  }
}

function PT_DeleteVideo(id, type) {
  if (!id) {
    return false;
  }
  if (!confirm("Are you sure you want to delete this video? This action can't be undo")) {
    return false;
  }
  if (type == 'edit-page') {
    $('.btn-delete').attr('disabled', true);
    $('.btn-delete').val("Please wait..");
  } else if (type == 'manage-page') {
    $('#video-' + id).slideUp('200', function () {
      $(this).remove();
    });
  }
  $.post('https://demo.playtubescript.com/aj/delete-video', {id: id}, function(data, textStatus, xhr) {
    if (data.status == 200) {
      if (type == 'edit-page') {
        window.location.href = 'https://demo.playtubescript.com/video_studio';
      } 
    }
  });
}

function PT_DeleteActivity(id) {
  if (!id) {
    return false;
  }
  if (!confirm("Are you sure you want to delete this activity? This action can't be undo.")) {
    return false;
  }

  $('#activity-' + id).slideUp('200', function () {
    $(this).remove();
  });

  $.post('https://demo.playtubescript.com/aj/delete-activity', {id: id}, function(data, textStatus, xhr) {
  });
}

function PT_DeleteHistory(id) {
  if (!id) {
    return false;
  }
  $('#video-' + id).fadeOut('200', function () {
    $(this).remove();
  });
  $.post('https://demo.playtubescript.com/aj/delete-history', {id: id});
  Snackbar.show({text: '<div><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMjAnIGhlaWdodD0nMjAnIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz4KCTxnPgoJCTxwYXRoIGQ9J00tMi0yaDI0djI0SC0yeicgZmlsbD0nbm9uZScvPgoJCTxwYXRoIGQ9J00xMCAwQzQuNDggMCAwIDQuNDggMCAxMHM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTUuNTIgMCAxMCAwek04IDE1bC01LTUgMS40MS0xLjQxTDggMTIuMTdsNy41OS03LjU5TDE3IDZsLTkgOXonIGZpbGw9JyMyNkJDNEUnLz4KCTwvZz4KPC9zdmc+Cg=="/> Removed from History</div>'});
}

function PT_DeleteSaved(id) {
  if (!id) {
    return false;
  }
  $('#video-' + id).slideUp('200', function () {
    $(this).remove();
  });
  $.post('https://demo.playtubescript.com/aj/delete-saved', {id: id});
}

function PT_AddToList(video_id){
  if (!video_id) {
    return false;
  }

  var name = '';
  var desc = '';
  var id   = video_id;

  $.ajax({
    url: 'https://demo.playtubescript.com/aj/lists',
    type: 'GET',
    dataType: 'json',
    data: {type: 'list',a:'add',id:id},
  })
  .done(function(data) {
    if (data.status == 200) {
      swal({
        title: "",
        type: "",
        html:data.html,
        showCancelButton: true,
        cancelButtonText: "Close",
        customClass: 'sweetalert-lg pt_add_to_list_vid',
        confirmButtonText:'Create new'
      }).then(function(){
          PT_NewList();
        },function(){
      });
    }
    else{
      swal(
        'Error!',
        'Something went wrong.Please try again later!',
        'error'
      );
    }
  })
  .fail(function() {
    console.log("error");
  })
  .always(function() {
    console.log("complete");
  });
}

function PT_ReportVideo(video_id,self){
  if (!video_id || !self) { return false;}

    var message = "";
    self = $(self);
    if (self.attr('data-rep') == 1) {
      swal({
        title: 'Report this video',
        html: $('<form>').add($('<p>',{
          text:"Please write a summary of what this video was about",
          class:'report-message-label'
        })).add($('<textarea>',{
          id:'report-message',
          rows: 4,
          placeholder:'Message'
        })),
        showCancelButton: true,
        confirmButtonText: 'Submit',
        cancelButtonText: 'Cancel',
        customClass:'report-video-popup',
        animation: false,
        preConfirm: function(name){
          return new Promise(function(resolve,reject){
              message = $('#report-message').val();
              if (message.length < 1) {
                swal.showValidationError(
                  'Please check the details'
                );
                reject();
              }
              else{
                resolve();
              }
          });
        },
        allowOutsideClick: false
      }).then(function(){
        $.ajax({
          url: 'https://demo.playtubescript.com/aj/report/video/report',
          type: 'POST',
          dataType: 'json',
          data: {id: video_id,text:message},
        })
        .done(function(data) {
          if (data.status == 200) {
            swal({
              title: 'Thank you',
              html: 'We have received your report!'
            });
            self.find('span').text('Cancel Report');
            self.attr('data-rep', '0');
            self.addClass('active');
          }
          else if(data.status == 304){
            self.find('span').text('Report');
            self.attr('data-rep', '1');
            self.removeClass('active');
            notif({
              msg: "Your report has been canceled!",
              type: "default",
              fade:0,
              timeout:1500
            });
          }
        });
      });
    }
    else{
      $.ajax({
        url: 'https://demo.playtubescript.com/aj/report/video/cancel',
        type: 'POST',
        dataType: 'json',
        data: {id: video_id},
      })
      .done(function(data) {
        if(data.status == 304){
          self.find('span').text('Report');
          self.attr('data-rep', '1');
          self.removeClass('active');
          notif({
            msg: "Your report has been canceled!",
            type: "default",
            fade:0,
            timeout:1500
          });
        }
      });
    }  
}

function PT_ReportCopyVideo(video_id,self){
  if (!video_id || !self) { return false;}
  var text1 = "I have a good faith belief that use of the copyrighted work described above is not authorized by the copyright owner, its agent or the law";
  var text2 = "I confirm that I am the copyright owner or am authorised to act on behalf of the owner of an exclusive right that is allegedly infringed.";
  var error = "Please select the checkboxs below if you own the copyright.";
  swal({
        title: 'Create DMCA take down notice',
        html: $('<form>').add($('<p>',{
          text:"Please describe your request carefully and as much as you can, note that false DMCA requests can lead to account termination.",
          class:'report-message-label'
        })).add($('<textarea>',{
          id:'report-message-copy',
          rows: 4,
          placeholder:'Message'
        })).add($('<div class="custom-control custom-radio checkbox checkbox-primary"><input type="checkbox" id="confirm_1" name="confirm_1" class="custom-control-input"><label class="custom-control-label" for="confirm_1">'+text1+'</label></div><div class="custom-control custom-radio checkbox checkbox-primary"><input type="checkbox" id="confirm_2" name="confirm_2" class="custom-control-input"><label class="custom-control-label" for="confirm_2">'+text2+'</label></div>')),
        showCancelButton: true,
        confirmButtonText: 'Submit',
        cancelButtonText: 'Cancel',
        customClass:'report-video-popup pt_rep_copy_vid',
        animation: false,
        preConfirm: function(name){
          return new Promise(function(resolve,reject){
              message = $('#report-message-copy').val();
              if (message.length < 1) {
                swal.showValidationError(
                  'Please check the details'
                );
                reject();
              }
              else{
                if ($('#confirm_1').is(':not(:checked)')) {
                  swal.showValidationError(
                    error
                  );
                  reject();
                }
                else{
                  if ($('#confirm_2').is(':not(:checked)')) {
                    swal.showValidationError(
                      error
                    );
                    reject();
                  }
                  else{
                    resolve();
                  }
                }
              }
          });
        },
        allowOutsideClick: false
      }).then(function(){
        $.ajax({
          url: 'https://demo.playtubescript.com/aj/main/copy_report?hash=' + $('.main_session').val(),
          type: 'POST',
          dataType: 'json',
          data: {id: video_id,text:message},
        })
        .done(function(data) {
          if (data.status == 200) {
            swal({
              title: 'Thank you',
              html: 'We have received your report!'
            });
          }
          else if(data.status == 304){
            self.find('span').text('Report');
            self.attr('data-rep', '1');
            self.removeClass('active');
            notif({
              msg: "Your report has been canceled!",
              type: "default",
              fade:0,
              timeout:1500
            });
          }
        });
      });

}

function PT_PLVToggle(id,self){
  if (!id || !self) {
    return false;
  }
  var self = $(self);
  var list = self.attr('id');
  $.ajax({
    url: 'https://demo.playtubescript.com/aj/lists',
    type: 'GET',
    dataType: 'json',
    data: {type: 'list',a:'tg',id:id,list:list},
  })
  .done(function(data) {
    if (data.status == 200 && data.code == 1) {
      self.find('.pt-plist-tgl_btn').html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="green" d="M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M17,15A3,3 0 0,1 14,12A3,3 0 0,1 17,9A3,3 0 0,1 20,12A3,3 0 0,1 17,15Z" /></svg>');
      notif({
        msg: "Added to " + data.name,
        type: "default",
        fade:0,
        timeout:1500
      });
    }

    else if(data.status == 200 && data.code == 0){
      self.find('.pt-plist-tgl_btn').html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M7,10A2,2 0 0,1 9,12A2,2 0 0,1 7,14A2,2 0 0,1 5,12A2,2 0 0,1 7,10M17,7A5,5 0 0,1 22,12A5,5 0 0,1 17,17H7A5,5 0 0,1 2,12A5,5 0 0,1 7,7H17M7,9A3,3 0 0,0 4,12A3,3 0 0,0 7,15H17A3,3 0 0,0 20,12A3,3 0 0,0 17,9H7Z" /></svg>');
      notif({
        msg: "Removed from " + data.name,
        type: "default",
        fade:0,
        timeout:1500
      });
    }

    else{
      swal(
        'Error!',
        'Something went wrong.Please try again later!',
        'error'
      );
    }
  })
  .fail(function() {
    console.log("error");
  })  
}

function PT_WLToggle(id,self){
  if (!id || !self) {
    return false;
  }
  var self = $(self);
  $.ajax({
    url: 'https://demo.playtubescript.com/aj/lists',
    type: 'GET',
    dataType: 'json',
    data: {type: 'list',a:'wl-tg',id:id},
  })
  .done(function(data) {
    if (data.status == 200 && data.code == 1) {
      self.find('.pt-plist-tgl_btn').html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="green" d="M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M17,15A3,3 0 0,1 14,12A3,3 0 0,1 17,9A3,3 0 0,1 20,12A3,3 0 0,1 17,15Z" /></svg>');
      notif({
        msg: "Added to \"Watch later\"",
        type: "default",
        fade:0,
        timeout:1500
      });
    }

    else if(data.status == 200 && data.code == 0){
      self.find('.pt-plist-tgl_btn').html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M7,10A2,2 0 0,1 9,12A2,2 0 0,1 7,14A2,2 0 0,1 5,12A2,2 0 0,1 7,10M17,7A5,5 0 0,1 22,12A5,5 0 0,1 17,17H7A5,5 0 0,1 2,12A5,5 0 0,1 7,7H17M7,9A3,3 0 0,0 4,12A3,3 0 0,0 7,15H17A3,3 0 0,0 20,12A3,3 0 0,0 17,9H7Z" /></svg>');
      notif({
        msg: "Removed from \"Watch later\"",
        type: "default",
        fade:0,
        timeout:1500
      });
    }

    else{
      swal(
        'Error!',
        'Something went wrong.Please try again later!',
        'error'
      );
    }
  })
  .fail(function() {
    console.log("error");
  })  
}

function PT_NewList(){
  swal({
    title: '',
    type: "",
    html:'<form class="form create-new-list"><div class="create-new-list-head"><p><i class="fa fa-plus"></i> Create new playlist</p></div><div class="sa-create-list-alert"></div><div class="form-group"><input type="text" class="form-control" placeholder="Playlist name 0 / 30"></div><div class="form-group"><select class="form-control"><option value="1" selected="selected">Privacy</option><option value="1">Public</option><option value="0">Private</option></select></div><div class="form-group"><textarea name="" id="" rows="3" class="form-control optional-field" placeholder="Description.."></textarea></div></form>',
    showCancelButton: true,
    allowOutsideClick:false,
    confirmButtonText:'<i class="fa fa-plus-circle"></i> Create',
    cancelButtonText:'Cancel',
    preConfirm: function (email) {
    return new Promise(function (resolve, reject) {
        name     = $(".create-new-list").find('input').val();
        desc     = $(".create-new-list").find('textarea').val();
        privacy  = $(".create-new-list").find('select').val();
        setTimeout(function() {
          if (name == '') {
            reject('Play list name is required.');
          }
          else if(privacy < 0 || privacy > 1){
            reject('Please check the details');
          }
          else {
            resolve();
          }
        }, 100)
      })
    }
  }).then(function(){
    if (!name){ return;}
    $.ajax({
      url: 'https://demo.playtubescript.com/aj/lists?type=list&a=new',
      type: 'POST',
      dataType: 'json',
      data: {name:name,desc:desc,pr:privacy},
    })
    .done(function(data) {
      if (data.status == 200) {
        swal({
          title:name,
          text:"PlayList was successful added!",
          type:'success'
        });

        PT_Delay(function(){
          swal.close();
        },2000);
      }
      else if(data.status == 200){
        swal(
          'Error!',
          'Something went wrong.Please try again later!',
          'error'
        );
      }
    })
    .fail(function() {
      swal.close();
      console.log("error");
    })
  },
  function(){
    //Error
  })
}

function PT_EditList(id){
  if (!id) {
    return false;
  }
  $.ajax({
    url: 'https://demo.playtubescript.com/aj/lists',
    type: 'GET',
    dataType: 'json',
    data: {type: 'list',a:'edit',id:id},
  })
  .done(function(data) {
    if (data.status == 200) {
      swal({
        title: '',
        type: "",
        html:data.html,
        showCancelButton: true,
        allowOutsideClick:false,
        confirmButtonText:'<i class="fa fa-floppy-o"></i> Save',
        cancelButtonText:'Cancel',
        preConfirm: function (email) {
        return new Promise(function (resolve, reject) {
            name     = $(".edit-list-form").find('input').val();
            desc     = $(".edit-list-form").find('textarea').val();
            privacy  = $(".edit-list-form").find('select').val();
            setTimeout(function() {
              if (name == '') {
                reject('');
              }
              else if(privacy < 0 || privacy > 1){
                reject('Please check the details');
              }
              else {
                resolve();
              }
            }, 100)
          })
        }
      }).then(function(){
        if (!name){ return;}
        $.ajax({
          url: 'https://demo.playtubescript.com/aj/lists?type=list&a=update',
          type: 'POST',
          dataType: 'json',
          data: {name:name,desc:desc,pr:privacy,id:id},
        })
        .done(function(data) {
          if (data.status == 200) {
            swal({
              title:name,
              text:"PlayList was successful saved!",
              type:'success'
            });

            PT_Delay(function(){
              swal.close();
            },2000);
          }
          else if(data.status == 200){
            swal(
              'Error!',
              'Something went wrong.Please try again later!',
              'error'
            );
          }
        })
        .fail(function() {
          swal.close();
          console.log("error");
        })
      },
      function(){
        //Error
      })
    }
  })
  .fail(function() {
    console.log("error");
  })
}

function PT_DeleteList(id){
  if (!id) { return false;}
  swal({
    title: 'Confirmation!',
    text: "Are you sure you want to delete this PlayList?",
    type: 'warning',
    showCancelButton: true,
    confirmButtonColor: '#3085d6',
    cancelButtonColor: '#d33',
    confirmButtonText: 'Yes,delete it!'
  }).then(function(){
    $.ajax({
      url: 'https://demo.playtubescript.com/aj/lists',
      type: 'GET',
      dataType: 'json',
      data: {type: 'list',a:'delist',id:id},
    })
    .done(function(data) {
      if (data.status == 200) {
        $("[data-playlist='"+id+"']").slideUp(function(){
          $(this).remove();
        });
        
        swal({
          title:"Deleted!",
          text:data.name +  " has been deleted!",
          type:"success"
        });
      }
      else{
        swal(
          'Error!',
          'Something went wrong.Please try again later!',
          'error'
        );
      }
    })
    .fail(function() {
      console.log("error");
    })
    
  })
}

function PT_DelFromList(list_id,video_id){
  if (!list_id || !video_id) {
    return false;
  }

  $.ajax({
    url: 'https://demo.playtubescript.com/aj/lists',
    type: 'GET',
    dataType: 'json',
    data: {type: 'list',a:'delvid',video_id:video_id,list_id:list_id},
  })
  .done(function(data) {
    if (data.status == 200) {
      $("[data-video-id='"+video_id+"']").slideUp(function(){
        $(this).remove();
      })
    }
    else{
      swal(
        'Error!',
        'Something went wrong.Please try again later!',
        'error'
      );
    }
  })
  .fail(function() {
    swal(
      'Error!',
      'Something went wrong.Please try again later!',
      'error'
    );
  })
}

function PT_RemoveFromWL(video_id){
  if (!video_id) {
    return false;
  }

  $.ajax({
    url: 'https://demo.playtubescript.com/aj/lists',
    type: 'GET',
    dataType: 'json',
    data: {type: 'list',a:'delwl',video_id:video_id},
  })
  .done(function(data) {
    if (data.status == 200) {
      $("[data-video-id='"+video_id+"']").slideUp(function(){
        $(this).remove();
      })
    }
    else{
      swal(
        'Error!',
        'Something went wrong.Please try again later!',
        'error'
      );
    }
  })
  .fail(function() {
    swal(
      'Error!',
      'Something went wrong.Please try again later!',
      'error'
    );
  })
}

function PT_RVReply(text,comm_id,event,video_id){
  
  if (!text || !comm_id || !event || !video_id) {
    return false;
  }
  else if(event.keyCode == 13 && event.shiftKey == 0){
    var reply_id = 0;
    if($("#comm-reply-"+comm_id).attr('data-reply-id')){
      reply_id = $("#comm-reply-"+comm_id).attr('data-reply-id');
    }

    $.ajax({
      url: "https://demo.playtubescript.com/aj/add-reply/video",
      type: 'POST',
      dataType: 'json',
      data: {text:text,id:comm_id,video_id:video_id,reply:reply_id},
    })
    .done(function(data) {
      if (data.status == 200) {
        $("#pt-comment-replies-cont-" + comm_id).append(data.html)
        $("#comm-reply-"+comm_id).find('input').val('').blur();

      }
      $("#comment-reply-loading-renderer-"+comm_id).addClass('hidden');
    })
    .fail(function() {
      alert('Sorry, something went wrong: Please try again later ...');
    })
  }
}

function PT_RPReply(text,comm_id,event,post_id){
  
  if (!text || !comm_id || !event || !post_id) {
    return false;
  }
  else if(event.keyCode == 13 && event.shiftKey == 0){
    var reply_id = 0;
    if($("#comm-reply-"+comm_id).attr('data-reply-id')){
      reply_id = $("#comm-reply-"+comm_id).attr('data-reply-id');
    }

    $.ajax({
      url: "https://demo.playtubescript.com/aj/add-reply/article",
      type: 'POST',
      dataType: 'json',
      data: {text:text,id:comm_id,post_id:post_id,reply:reply_id},
    })
    .done(function(data) {
      if (data.status == 200) {
        $("#pt-comment-replies-cont-" + comm_id).append(data.html)
        $("#comm-reply-"+comm_id).find('input').val('').blur();
      }
      $("#comment-reply-loading-renderer-"+comm_id).addClass('hidden');
    })
    .fail(function() {
      alert('Sorry, something went wrong: Please try again later ...');
    })
  }
}

function PT_RAReply(text,comm_id,event,post_id){
  
  if (!text || !comm_id || !event || !post_id) {
    return false;
  }
  else if(event.keyCode == 13 && event.shiftKey == 0){
    var reply_id = 0;
    if($("#comm-reply-"+comm_id).attr('data-reply-id')){
      reply_id = $("#comm-reply-"+comm_id).attr('data-reply-id');
    }

    $.ajax({
      url: "https://demo.playtubescript.com/aj/add-reply/activity",
      type: 'POST',
      dataType: 'json',
      data: {text:text,id:comm_id,post_id:post_id,reply:reply_id},
    })
    .done(function(data) {
      if (data.status == 200) {
        $("#pt-comment-replies-cont-" + comm_id).append(data.html)
        $("#comm-reply-"+comm_id).find('input').val('').blur();
      }
      $("#comment-reply-loading-renderer-"+comm_id).addClass('hidden');
    })
    .fail(function() {
      alert('Sorry, something went wrong: Please try again later ...');
    })
  }
}

function PT_DeleteReply(id) {
  if (!id) { return false; }
  if (!confirm('Are you sure you want to delete your comment?')) { return false; }
  $('#reply-' + id).slideUp('fast');
  $.post('https://demo.playtubescript.com/aj/delete-reply', {id: id});
}

function PT_LikeComments(self,type,comment_id){
  if (!self || (type != 'up' && type != 'down') || !comment_id){
    return false;
  }

  else if (!$('#main-container').attr('data-logged') && $('#main-url').val()) {
    window.location.href = PT_Ajax_Requests_File() + 'login?to=' + $('#main-url').val();
    return false;
  }

  var self = $(self);
  $.ajax({
    url: 'https://demo.playtubescript.com/aj/comment-like-system/' + type,
    type: 'POST',
    dataType: 'json',
    data: {id:comment_id}
  })
  .done(function(data) {
    if (data.status == 200 && type == 'up' && data.type == 'added_like'){
      self.find('span').text((data.up));
      $('[data-comment-dislikes="'+comment_id+'"]').find('span').text((data.down));
      self.find('svg.feather').addClass('active');
      self.siblings().find('svg.feather').removeClass('active');
      
    }

    else if (data.status == 200 && type == 'up' && data.type == 'deleted_like'){
      self.find('span').text((data.up));
      $('[data-comment-dislikes="'+comment_id+'"]').find('span').text((data.down));
      self.find('svg.feather').removeClass('active');
      self.siblings().find('svg.feather').removeClass('active');
    }

    else if (data.status == 200 && type == 'down' && data.type == 'added_dislike'){
      self.find('span').text((data.down));
      self.find('svg.feather').addClass('active');
      $('[data-comment-likes="'+comment_id+'"]').find('span').text((data.up));
      self.siblings().find('svg.feather').removeClass('active');
    }

    else if (data.status == 200 && type == 'down' && data.type == 'deleted_dislike'){
      self.find('span').text((data.down));
      self.find('svg.feather').removeClass('active');
      $('[data-comment-likes="'+comment_id+'"]').find('span').text((data.up));
      self.siblings().find('svg.feather').removeClass('active');
    }

    else{
      swal(
         'Error!',
         'Something went wrong.Please try again later!',
         'error'
       );
    }
  })
  .fail(function() {
    console.log("error");
  })
}

function PT_LikeReplies(self,type,reply_id){
  if (!self || (type != 'up' && type != 'down') || !reply_id){
    return false;
  }

  else if (!$('#main-container').attr('data-logged') && $('#main-url').val()) {
    window.location.href = PT_Ajax_Requests_File() + 'login?to=' + $('#main-url').val();
    return false;
  }

  var self = $(self);
  $.ajax({
    url: 'https://demo.playtubescript.com/aj/reply-like-system/' + type,
    type: 'POST',
    dataType: 'json',
    data: {id:reply_id}
  })
  .done(function(data) {
    if (data.status == 200 && type == 'up' && data.type == 'added_like'){
      self.find('span').text((data.up));
      $('[data-reply-dislikes="'+reply_id+'"]').find('span').text((data.down));
      self.find('svg.feather').addClass('active');
      self.siblings().find('svg.feather').removeClass('active');
      
    }

    else if (data.status == 200 && type == 'up' && data.type == 'deleted_like'){
      self.find('span').text((data.up));
      $('[data-reply-dislikes="'+reply_id+'"]').find('span').text((data.down));
      self.find('svg.feather').removeClass('active');
      self.siblings().find('svg.feather').removeClass('active');
    }

    else if (data.status == 200 && type == 'down' && data.type == 'added_dislike'){
      self.find('span').text((data.down));
      self.find('svg.feather').addClass('active');
      $('[data-reply-likes="'+reply_id+'"]').find('span').text((data.up));
      self.siblings().find('svg.feather').removeClass('active');
    }

    else if (data.status == 200 && type == 'down' && data.type == 'deleted_dislike'){
      self.find('span').text((data.down));
      self.find('svg.feather').removeClass('active');
      $('[data-reply-likes="'+reply_id+'"]').find('span').text((data.up));
      self.siblings().find('svg.feather').removeClass('active');
    }

    else{
      swal(
         'Error!',
         'Something went wrong.Please try again later!',
         'error'
       );
    }
  })
  .fail(function() {
    console.log("error");
  })
}

function pt_hide_announcement(id){
  if (!id) { return false; }
  $("#announcement-"+id).slideUp('fast',function(){
    $(this).remove();
    $.post('https://demo.playtubescript.com/aj/main/hide-announcement', {id: id}, function(data, textStatus, xhr) { /* pass */ });
  })  
}
function pay_to_see(video_id,price,type = '') {
  
  $('.p_t_show_btn_').attr('disabled', 'true');
  
  if (type == 'rent') {
    $('.p_t_show_btn_rent').text("Please wait..");
    $('.p_t_show_btn_rent').text("Rent $"+price);
    PT_ShowMethods('rent',video_id,price);
  }
  else{
    $('.p_t_show_btn_buy').text("Please wait..");
    $('.p_t_show_btn_buy').text("Purchase $"+price);
    PT_ShowMethods('pay',video_id,price);
  }
  
  $('.p_t_show_btn_').removeAttr('disabled');
}

function PT_ShowMethods(type,video_id = 0,price = 0,user_id = 0) {
  $.post('https://demo.playtubescript.com/aj/wallet/get_modal',{type:type,video_id:video_id,price:price,user_id:user_id}, function(data, textStatus, xhr) {
    if (data.status == 200) {
      $('.payment_method').html(data.html);
      $('#pay-go-pro').modal({
             show: true
            });
    }
    if (type == 'subscribe') {
      $('.subscribe-id-'+user_id).find('span').text("Subscribe");
      $('.subscribe-id-'+user_id).removeAttr('disabled');
    }
  });
}


  function PT_PurchasePkg(pkg,self,video_id,price,user_id = 0){
    if (!pkg || !self) {
      return false;
    }

    $(self).text("Please wait..").attr('disabled', 'true');
    if (pkg == 'pro') {
      $.ajax({
        url: 'https://demo.playtubescript.com/aj/go_pro/purchase',
        type: 'POST',
        dataType: 'json',
        data: {type: pkg},
      })
      .done(function(data) {
        if (data.status == 200) {
          $('#pay-go-pro').modal('hide');
          document.location.href = data.url;
        }
        else{
          swal({
            title:"Error!",
            text:"Something went wrong Please try again later!",
            type:"error"
          })
        }
      })
      .fail(function() {
        console.log("error");
      });
    }
    else if (pkg == 'wallet') {
        amount = $("#wallet_amount").val();

      $.ajax({
        url: 'https://demo.playtubescript.com/aj/wallet/replenish',
        type: 'POST',
        dataType: 'json',
        data: {amount:amount},
      })
      .done(function(data) {
        if (data.status == 200) {
          window.location.href = data.url;
        }
        else{
          swal({
            title:"Error!",
            text:"Something went wrong Please try again later!",
            type:"error"
          });
        }
      })
      .fail(function() {
        swal({
          title:"Error!",
          text:"Something went wrong Please try again later!",
          type:"error"
        });
      });
    }
    else if (pkg == 'pay') {
      $.post('https://demo.playtubescript.com/aj/go_pro/pay_to_see', {video_id: video_id}, function(data, textStatus, xhr) {
         if (data.status == 200) {
            document.location.href = data.url;
         }
         else{
            swal({
               title:"Error!",
               text:"Something went wrong Please try again later!",
               type:"error"
            })
         }
         $('.p_t_show_btn_buy').text("Purchase $"+price);
         $('.p_t_show_btn_').removeAttr('disabled');
      });
    }
    else if (pkg == 'rent') {
      $.post('https://demo.playtubescript.com/aj/go_pro/pay_to_see', {video_id: video_id,pay_type:'rent'}, function(data, textStatus, xhr) {
         if (data.status == 200) {
            document.location.href = data.url;
         }
         else{
            swal({
               title:"Error!",
               text:"Something went wrong Please try again later!",
               type:"error"
            })
         }
         $('.p_t_show_btn_rent').text("Rent $"+price);
         $('.p_t_show_btn_').removeAttr('disabled');
      });
    }
    else if (pkg == 'subscribe' && user_id > 0) {
      $.post('https://demo.playtubescript.com/aj/go_pro/subscribe', {user_id: user_id,type:'paypal'}, function(data, textStatus, xhr) {
         if (data.status == 200) {
            document.location.href = data.url;
         }
         else{
            swal({
               title:"Error!",
               text:"Something went wrong Please try again later!",
               type:"error"
            })
         }
      });
    }
  }

  function pay_using_iyzipay(pkg,self,video_id,price,user_id = 0) {
    $('.btn-iyzipay').attr('disabled','true');
    $('.btn-iyzipay').find('span').text("Please wait..");
    pay_type = '';
    if (pkg == 'pro') {
      path = '/go_pro/iyzipay';
    }
    else if (pkg == 'wallet') {
      path = '/wallet/iyzipay';
      price = $("#wallet_amount").val();
    }
    else if (pkg == 'pay') {
      path = '/go_pro/iyzipay_pay_to_see';
    }
    else if (pkg == 'rent') {
      path = '/go_pro/iyzipay_pay_to_see';
      pay_type = 'rent';
    }
    else if (pkg == 'subscribe') {
      path = '/go_pro/subscribe';
    }

    $.post('https://demo.playtubescript.com/aj'+path, {video_id:video_id,amount:price,user_id:user_id,pay_type:pay_type,type:'iyzipay'}, function(data) {
      if (data.status == 200) {
        $('#iyzipay_content').html('');
        $('#iyzipay_content').html(data.html);
      } else {
        $('.btn-iyzipay').attr('disabled', false).html("Iyzipay App not set yet.");
      }
      $('.btn-iyzipay').removeAttr('disabled');
      $('.btn-iyzipay').find('span').text("Iyzipay");
    });
  }
  function pay_using_payu(pkg,self,video_id,price,user_id = 0,show_modale = false) {
    if(show_modale == true){
      $('#pay-go-pro').modal('hide');
      $('#payu_modal').find('#payu_btn').attr('onclick', "pay_using_payu('"+pkg+"',self,'"+video_id+"','"+price+"','"+user_id+"')");
      $('#payu_modal').modal('show');
      return false;
    }
    card_number = $('#payu_card_number').val();
    card_month = $('#payu_card_month').val();
    card_year = $('#payu_card_year').val();
    card_cvc = $('#payu_card_cvc').val();
    $('#payu_btn').attr('disabled','true');
    $('#payu_btn').text("Please wait..");
    pay_type = '';
    if (pkg == 'pro') {
      path = '/go_pro/payu';
    }
    else if (pkg == 'wallet') {
      path = '/wallet/payu';
      price = $("#wallet_amount").val();
    }
    else if (pkg == 'pay') {
      path = '/go_pro/payu_pay_to_see';
    }
    else if (pkg == 'rent') {
      path = '/go_pro/payu_pay_to_see';
      pay_type = 'rent';
    }
    else if (pkg == 'subscribe') {
      path = '/go_pro/payu_subscribe';
    }

    $.post('https://demo.playtubescript.com/aj'+path, {video_id:video_id,amount:price,user_id:user_id,pay_type:pay_type,type:'payu',card_number:card_number,card_month:card_month,card_year:card_year,card_cvc:card_cvc}, function(data) {
      if (data.status == 200) {
        if(data.url){
          location.href = data.url;
        }
      } else {
        $('#payu_alert').html("<div class='alert alert-danger'>"+data.message+"</div>");
      }
      $('#payu_btn').removeAttr('disabled');
      $('#payu_btn').text("Purchase");
    });
  }
  function pay_using_paysera(pkg,self,video_id,price,user_id = 0) {
    $('.btn-paysera').attr('disabled','true');
    $('.btn-paysera').find('span').text("Please wait..");
    pay_type = '';
    if (pkg == 'pro') {
      path = '/go_pro/paysera';
    }
    else if (pkg == 'wallet') {
      path = '/wallet/paysera';
      amount = $("#wallet_amount").val();
    }
    else if (pkg == 'pay') {
      path = '/go_pro/paysera_pay_to_see';
    }
    else if (pkg == 'rent') {
      path = '/go_pro/paysera_pay_to_see';
      pay_type = 'rent';
    }
    else if (pkg == 'subscribe') {
      path = '/go_pro/subscribe';
    }

    $.post('https://demo.playtubescript.com/aj'+path, {video_id:video_id,amount:price,user_id:user_id,pay_type:pay_type,type:'paysera'}, function(data) {
      if (data.status == 200) {
        window.location.href = data.url;
      } else {
        $('.btn-paysera').attr('disabled', false).html("Paysera App not set yet.");
      }
      $('.btn-paysera').removeAttr('disabled');
      $('.btn-paysera').find('span').text("Paysera");
    });
  }
  function pay_using_razorpay(pkg,self,video_id,price,user_id = 0) {
    $('#razorpay_type').val(pkg);
    $('#razorpay_video_id').val(video_id);
    $('#razorpay_price').val(price);
    $('#razorpay_user_id').val(user_id);
    $("#razorpay_alert").html('');
    $('#pay-go-pro').modal('hide');
    $('#razorpay_modal_box').modal({
          show: true
      });
  }
  function SignatureRazorpay() {
    $('#razorpay_button').html("Please wait..");
    $('#razorpay_button').attr('disabled','true');

      var merchant_order_id = "111111";
      var card_holder_name_id = $('#razorpay_name').val();
      var email = $('#razorpay_email').val();
      var phone = $('#razorpay_phone').val();
      var currency_code_id = "INR";

      if (!email || !phone || !card_holder_name_id) {
        $('#razorpay_alert').html("<div class='alert alert-danger'>Please check the details</div>");
        $('#razorpay_button').html("Purchase");
        $('#razorpay_button').removeAttr('disabled');
        setTimeout(function () {
          $('#razorpay_alert').html("");
        },3000);
      return false;
      }

      video_id = $('#razorpay_video_id').val();
      amount = $('#razorpay_price').val();
      user_id = $('#razorpay_user_id').val();
      pay_type = '';
      pkg = $('#razorpay_type').val();
      if (pkg == 'pro') {
        path = '/go_pro/razorpay';
      }
      else if (pkg == 'wallet') {
        path = '/wallet/razorpay';
        amount = $("#wallet_amount").val();
      }
      else if (pkg == 'pay') {
        path = '/go_pro/razorpay_pay_to_see';
      }
      else if (pkg == 'rent') {
        path = '/go_pro/razorpay_pay_to_see';
        pay_type = 'rent';
      }
      else if (pkg == 'subscribe') {
        path = '/go_pro/subscribe_razorpay';
      }
      var merchant_total = Number(amount) * 100;
      
      var razorpay_options = {
          key: "",
          amount: merchant_total,
          name: "PlayTube",
          description: "",
          image: 'https://demo.playtubescript.com/themes/default/img/logo-light.png',
          netbanking: true,
          currency: currency_code_id,
          prefill: {
              name: card_holder_name_id,
              email: email,
              contact: phone
          },
          notes: {
              soolegal_order_id: merchant_order_id,
          },
          handler: function (transaction) {
            $.post('https://demo.playtubescript.com/aj'+path, {payment_id: transaction.razorpay_payment_id, order_id: merchant_order_id, card_holder_name_id: card_holder_name_id,  merchant_amount: merchant_total, currency: currency_code_id,video_id:video_id,user_id:user_id,pay_type:pay_type,type:'razorpay',name:name,phone:phone}, function(data) {
              if (data.status == 200) {
                window.location = data.url;
              } else {
                $('#razorpay_alert').html("<div class='alert alert-danger'>"+data.message+"</div>");
                setTimeout(function () {
                  $('#razorpay_alert').html("");
                },3000);
              }
              $('#razorpay_button').html("Purchase");
              $('#razorpay_button').removeAttr('disabled');
            });
          },
          "modal": {
              "ondismiss": function () {
                  // code here
              }
          }
      };
      // obj        
      var objrzpv1 = new Razorpay(razorpay_options);
      objrzpv1.open();
  }
  function pay_using_cashfree(pkg,self,video_id,price,user_id = 0) {
    $('#cashfree_type').val(pkg);
    $('#cashfree_video_id').val(video_id);
    $('#cashfree_price').val(price);
    $('#cashfree_user_id').val(user_id);
    $("#cashfree_alert").html('');
    $('#pay-go-pro').modal('hide');
    $('#cashfree_modal_box').modal({
          show: true
      });
  }
  function InitializeCashfree() {
    $('#cashfree_button').html("Please wait..");
    $('#cashfree_button').attr('disabled','true');
    name = $('#cashfree_name').val();
    phone = $('#cashfree_phone').val();
    email = $('#cashfree_email').val();
    video_id = $('#cashfree_video_id').val();
    amount = $('#cashfree_price').val();
    user_id = $('#cashfree_user_id').val();
    pay_type = '';
    pkg = $('#cashfree_type').val();
    if (pkg == 'pro') {
      path = '/go_pro/cashfree';
    }
    else if (pkg == 'wallet') {
      path = '/wallet/cashfree';
      amount = $("#wallet_amount").val();
    }
    else if (pkg == 'pay') {
      path = '/go_pro/cashfree_pay_to_see';
    }
    else if (pkg == 'rent') {
      path = '/go_pro/cashfree_pay_to_see';
      pay_type = 'rent';
    }
    else if (pkg == 'subscribe') {
      path = '/go_pro/subscribe';
    }
    $.post('https://demo.playtubescript.com/aj'+path, {email:email,video_id:video_id,amount:amount,user_id:user_id,pay_type:pay_type,type:'cashfree',name:name,phone:phone}, function(data) {
      if (data.status == 200) {
        $('body').append(data.html);
        document.getElementById("redirectForm").submit();
      } else {
        $('#cashfree_alert').html("<div class='alert alert-danger'>"+data.message+"</div>");
        setTimeout(function () {
          $('#cashfree_alert').html("");
        },3000);
      }
      $('#cashfree_button').html("Purchase");
      $('#cashfree_button').removeAttr('disabled');
    });
  }
  function pay_using_paystack(pkg,self,video_id,price,user_id = 0) {
    $('#paystack_type').val(pkg);
    $('#paystack_video_id').val(video_id);
    $('#paystack_price').val(price);
    $('#paystack_user_id').val(user_id);
    $("#paystack_wallet_alert").html('');
    $('#pay-go-pro').modal('hide');
    $('#paystack_wallet_modal').modal({
          show: true
      });
  }
  function InitializeWalletPaystack() {
    $('#paystack_btn').html("Please wait..");
      $('#paystack_btn').attr('disabled','true');
    email = $('#paystack_wallet_email').val();
    video_id = $('#paystack_video_id').val();
    amount = $('#paystack_price').val();
    user_id = $('#paystack_user_id').val();
    pay_type = '';
    pkg = $('#paystack_type').val();
    if (pkg == 'pro') {
      path = '/go_pro/paystack';
    }
    else if (pkg == 'wallet') {
      path = '/wallet/paystack';
      amount = $("#wallet_amount").val();
    }
    else if (pkg == 'pay') {
      path = '/go_pro/paystack_pay_to_see';
    }
    else if (pkg == 'rent') {
      path = '/go_pro/paystack_pay_to_see';
      pay_type = 'rent';
    }
    else if (pkg == 'subscribe') {
      path = '/go_pro/subscribe';
    }
    $.post('https://demo.playtubescript.com/aj'+path, {email:email,video_id:video_id,amount:amount,user_id:user_id,pay_type:pay_type,type:'paystack'}, function(data) {
      if (data.status == 200) {
        window.location.href = data.url;
      } else {
        $('#paystack_wallet_alert').html("<div class='alert alert-danger'>"+data.message+"</div>");
        setTimeout(function () {
          $('#paystack_wallet_alert').html("");
        },3000);
      }
      $('#paystack_btn').html("Purchase");
        $('#paystack_btn').removeAttr('disabled');
    });
  }

  function PT_OpenCheckOut(pkg,self,video_id = 0,price = 0,user_id = 0){
    if (!pkg || !self) {
      return false;
    }
    if (video_id) {
      $('#checkout_video_'+video_id).val(video_id);
    }
    if (price) {
      $('#checkout_price_'+video_id).val(price);
    }
    $('#checkout_user_id').val(user_id);

    $(self).text("Please wait..").attr('disabled', 'true');

    $("#2checkout_alert").html('');
    $('#pay-go-pro').modal('hide');
      $('#2checkout_modal').modal({
            show: true
        });
      if (pkg == 'rent') {
        $('.checkout_pay_type').val('rent');
      }
      else{
        $('.checkout_pay_type').val('');
      }
  }

  function pay_using_wallet(pkg,self,video_id,price,user_id = 0){
    if (!pkg || !self) {
      return false;
    }

    $(self).text("Please wait..").attr('disabled', 'true');
    if (pkg == 'pro') {
      $.ajax({
        url: 'https://demo.playtubescript.com/aj/go_pro/pro_wallet',
        type: 'POST',
        dataType: 'json',
        data: {type: pkg},
      })
      .done(function(data) {
        if (data.status == 200) {
          $('#pay-go-pro').modal('hide');
          document.location.href = data.url;
        }
        else{
          swal({
            title:"Error!",
            text:"Something went wrong Please try again later!",
            type:"error"
          })
        }
      })
      .fail(function() {
        console.log("error");
      });
    }
    else if (pkg == 'pay') {
      $.post('https://demo.playtubescript.com/aj/go_pro/pay_to_see_wallet', {video_id: video_id}, function(data, textStatus, xhr) {
         if (data.status == 200) {
            document.location.href = data.url;
         }
         else{
            swal({
               title:"Error!",
               text:"Something went wrong Please try again later!",
               type:"error"
            })
         }
         $('.p_t_show_btn_').text("Purchase $"+price);
         $('.p_t_show_btn_').removeAttr('disabled');
      });
    }
    else if (pkg == 'rent') {
      $.post('https://demo.playtubescript.com/aj/go_pro/pay_to_see_wallet', {video_id: video_id,pay_type:'rent'}, function(data, textStatus, xhr) {
         if (data.status == 200) {
            document.location.href = data.url;
         }
         else{
            swal({
               title:"Error!",
               text:"Something went wrong Please try again later!",
               type:"error"
            })
         }
         $('.p_t_show_btn_rent').text("Rent $"+price);
         $('.p_t_show_btn_').removeAttr('disabled');
      });
    }
    else if (pkg == 'subscribe' && user_id > 0) {
      $.post('https://demo.playtubescript.com/aj/go_pro/subscribe', {user_id: user_id,type:'wallet'}, function(data, textStatus, xhr) {
         if (data.status == 200) {
            document.location.href = data.url;
         }
         else{
            swal({
               title:"Error!",
               text:"Something went wrong Please try again later!",
               type:"error"
            })
         }
      });

    }
  }

  function PT_PaySubscribe(user_id,self,type = '') {
    if (!user_id || !self) { return false; }
    if (type == 'subscribe') {
      $(self).find('span').text("Please wait..");
      $(self).attr('disabled', 'true');
      PT_ShowMethods('subscribe',0,0,user_id);
    }
    else{
      var html = "<small>Are you sure you want to unsubscribe? This action can't be undo.</small>";
      swal({
        title: "",
        type: "",
        html:html,
        showCancelButton: true,
        cancelButtonText: "No",
        customClass: 'sweetalert-lg pt_add_to_list_vid',
        confirmButtonText:'Yes'
      }).then(function(){
          $(self).removeClass('btn-subscribed').addClass('btn-subscribe');
          $(self).find('span').text("Subscribe");
          $(self).find('svg').remove();
          $(self).prepend('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>');
          $(self).attr('onclick', 'PT_PaySubscribe(' + user_id + ',this,"subscribe")');
          $.post('https://demo.playtubescript.com/aj/subscribe', {user_id: user_id});

        },function(){
      });
    }
    $(self).removeAttr('disabled');
    $(self).find('span').text(text);
  }

</script>

	<script type="text/javascript" src="/static/js/script.js"></script>
    <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/bootstrap-toggle.min.js"></script>
    <script src="/static/js/footer.js"></script>
    <link rel="" =""="">
    <script>
      $(window).on("popstate", function (e) {
          location.reload();
      });
    $(document).ready(function(){
        // $('.share-video a').click(function (e) {
        //     e.preventDefault();
        // });
        $('.dropdown-toggle').dropdown()

        $("#toggle-mode").change(function(event) {
            var mode = 'day';

            if ($(this).prop( "checked" ) === true) {
              mode = 'night';
              $('<link>',{
                rel:'stylesheet',
                href:'https://demo.playtubescript.com/themes/default/css/night-mode.css',
                class:'night-mode-css'
              }).insertAfter('link#style-css');
              $('.logo-img img').attr('src', 'https://demo.playtubescript.com/themes/default/img/logo-light.png');
            }
            else{
              $(".night-mode-css").remove();
              $('.logo-img img').attr('src', 'https://demo.playtubescript.com/themes/default/img/logo.png');
            }


            $.post('https://demo.playtubescript.com/', {mode: mode}, function(data, textStatus, xhr) { /* pass */ });
        });

        $("li.toggle-mobile-mode").click(function(event) {
            var mode = $(this).attr('data-mode');

            $.post('https://demo.playtubescript.com/', {mode: mode}, function(data, textStatus, xhr) {
              location.reload();
            });
        });
    });
   </script>
	    
            <script type="text/javascript">
        $(document).on('click', '#pop_up_18_yes', function(event) {
          event.preventDefault();
          $.post('https://demo.playtubescript.com/aj/main/yes_18?hash=' + $('.main_session').val(), function(data, textStatus, xhr) {
            $('#pop_up_18').modal('hide');
          });
        });

        $(document).on('click', '#pop_up_18_no', function(event) {
          event.preventDefault();
          $.post('https://demo.playtubescript.com/aj/main/no_18?hash=' + $('.main_session').val(), function(data, textStatus, xhr) {
            if (data.status == 200) {
              $('#pop_up_18').modal('hide');
              window.location.href = data.url
            }
          });
        });

                function setCookie(cname, cvalue, exdays) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
            var expires = "expires="+d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }

        function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for(var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }
              </script>
            <script>
         var fingerprintReport = function () {
            Fingerprint2.get(function(components) {
              var murmur = Fingerprint2.x64hash128(components.map(function (pair) { return pair.value }).join(), 31)
              $.post('https://demo.playtubescript.com/aj/views?hash=' + $('.main_session').val()+'&type_=set', {finger: murmur}, function(data, textStatus, xhr) {
              });
            })
         }
         fingerprintReport();
      </script>
    
    <script type="text/javascript">
      var myTimeout;

      function show_gif(self,gif) {
        if (gif && gif != '') {
          myTimeout = setTimeout(function() {
              $(self).append('<img src="'+gif+'">');
          }, 1000);
        }
      }

      function hide_gif(self) {
        $(self).find('img').remove();
        clearTimeout(myTimeout);
      }

      function block_user(user_id,self,redirect = true) {
        $.post('https://demo.playtubescript.com/aj/user/block?hash=' + $('.main_session').val(), {user_id: user_id}, function(data, textStatus, xhr) {
          if (redirect == true) {
            location.reload();
          }
          else{
            $(self).find('span').text(data.message);
          }
        });
      }
    </script>

<script type="text/javascript">
  function HideCard(ad_date) {
      setTimeout(function (argument) {
         $('.'+ad_date).remove();
      },5000);
   }
</script>




</body></html>